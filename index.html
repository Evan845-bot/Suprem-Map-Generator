<!DOCTYPE html>
<html>
  <head>
    made by Tri-tip#1053
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.14/p5.js"></script>
    <script src="p5.dom.js"> </script>
    <script>
      
      function preload() {

}
let a;
  function mouseClicked() {
      a = true;
    print("Thugga");
  }
function setup() {
  background(255);
  const canvas = createCanvas(5000, 5000);
  smooth();
  background(212, 49, 49);
}
var Button = function(object)
        {
            this.x = object.x || 200;
            this.y = object.y || 200;
            this.width = object.width || 30;
            this.height = object.height || 20;
            this.label = object.label || "Click";
            this.onClick = object.onClick;
            this.textSize = object.textSize || 10;
          this.color = object.color || (0, 0, 0);
          this.hoverColor = object.hoverColor || (0, 0, 255);
          this.rounding = object.rounding;
          this.hidden = object.hidden;
        };
        Button.prototype.isMouseInside = function()
        {
            return mouseX > this.x && mouseX < (this.x + this.width) && mouseY > this.y && mouseY < (this.y + this.height);
        };
        Button.prototype.draw = function()
        {
        strokeWeight(3);
          stroke(255, 255, 255);
            fill((255, 255, 255));
          if(this.hidden == false) {
            rect(this.x, this.y, this.width, this.height, this.rounding);
          }
            
            textSize(this.textSize);
            textAlign(LEFT, TOP);
  stroke(255, 0, 0);
            text(this.label, this.x + 10, this.y + this.height / 4);
          
            if (this.isMouseInside() === true && a === true)
            {
                this.onClick();
              a = false;
            }
        };
Button.prototype.remove = function() {

}
const vertical = [[1, 2, 1, 1, 2, 3, 1, 3, 1, 1], [1, 1, 2, 0, 1, 2, 1, 3, 1, 0]];

let horizontalSize = 18;

function draw() {
  let AddRow = new Button({
  
                x: 100,
                y: 50,
                width: 135,
                height: 56,
                label: "Add Row",
                textSize: 26,
    hidden: false,
              color: (255, 0, 0),
                hoverColor: (0, 255, 0),
                rounding: 6, 
                onClick: function()
                {
          
                  addEmpty();
                }
    });
  AddRow.draw();
  let AddColumn = (new Button({
  
                x: 500,
                y: 50,
                width: 150,
                height: 56,
                label: "Add Column",
                textSize: 26,
    hidden: false,
              color: (255, 0, 0),
                hoverColor: (0, 255, 0),
                rounding: 6, 
                onClick: function()
                {
                  horizontalSize++;
                }
    }));
  AddColumn.draw();
  rect(300, 50, 135, 56, 6);
  let Download = (new Button({
  
                x: 300,
                y: 50,
                width: 135,
                height:56,
                label: "Download",
                textSize: 26,
              color: (255, 0, 0),
                hoverColor: (0, 255, 0),
                rounding: 6, 
                onClick: function()
                {
                  background(255);
                  render();
              const theImage = get(46.25, 147.5, 62*horizontalSize+10, 62*vertical.length+10);
                  const theImage2 = get(46.25, 147.5, 62*horizontalSize, 62*vertical.length);
                  save(theImage, "map.png");
                 background(212, 49, 49);
  
                }
    }));
 Download.draw();

  for(var u = 0; u < horizontalSize; u++) {
    for(var v = 0; v < vertical.length; v++) {
  (new Button({
  
                x: 46.25 + 62*u,
                y: 147.5+v*62,
                width: 55,
                height:55,
                label: " ",
                textSize: 26,
              color: (255, 0, 0),
                hoverColor: (0, 255, 0),
                rounding: 6, 
                hidden: true,
                onClick: function()
                {
                vertical[v][u] ++;
                if(vertical[v][u] > 3) {
                  vertical[v][u] = 0;
                  
                }
                  print("Sup");
                }
    })).draw();
    }
  }
  function render() {
    
 for(var i = 0; i < horizontalSize; i++) {

   for(var j = 0; j < vertical.length; j++) {
if(vertical[j].length < horizontalSize) {
for(var t = 0; t < horizontalSize - vertical[j].length; t++) {
vertical[j].push(0);
}
}
     if(vertical[j][i] === 1) {

       strokeWeight(7);strokeWeight(7);
       stroke(175, 168, 255);
       fill(204, 204, 255);
       rect(50+i*62, 150+j*62, 50, 50, 15);

     } else if(vertical[j][i] === 2) {
strokeWeight(7);strokeWeight(7);
       stroke(51, 51, 51);
       fill(18, 18, 18);
       rect(50+i*62, 150+j*62, 50, 50, 15);

     } else if(vertical[j][i] === 3) {
strokeWeight(7);
       stroke(65, 65, 46);
       fill(118, 118, 83);
       rect(50+i*62, 150+j*62, 50, 50, 15);

     } else {
       strokeWeight(7);
       stroke(255);
       fill(255);
       rect(50+i*62, 150+j*62, 50, 50, 15);
     }
   }
 }
}
  render();
}

function addRow(array) {
if(array.length < horizontalSize) {
  for(let b = 0; b < horizontalSize-array.length; b++) {
 array.push(0);
  }
}
  vertical.push(array);
}
addRow([2, 2, 1, 0, 2, 1, 2]);
function addEmpty() {
addRow([0]);
}
addEmpty();
addEmpty();

function removeRow(pos) {
 vertical[pos-1] = [];

}
  
    </script>
  </head>
  <body>
    <main>
    </main>
  </body>
</html>